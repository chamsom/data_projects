install.packages(c("shiny", "shinydashboard", "DT", "plotly",
"dplyr", "ggplot2", "tidyr"))
source("C:/Users/jaeki/Documents/data_projects/clinical_trial_dashboard/data_generator.R")
shiny::runApp('ClinicalTrialDashboard')
getcwd()
# First, check if the data folder exists
dir.create("data", showWarnings = FALSE)
dir.create("data", showWarnings = FALSE)
set.seed(123)
n_patients <- 300
clinical_data <- data.frame(
patient_id = paste0("PT", sprintf("%04d", 1:n_patients)),
age = round(rnorm(n_patients, 65, 12)),
gender = sample(c("Male", "Female"), n_patients, replace = TRUE),
treatment_arm = sample(c("Treatment A", "Treatment B", "Placebo"),
n_patients, replace = TRUE, prob = c(0.4, 0.4, 0.2)),
site_id = sample(paste0("Site_", LETTERS[1:10]), n_patients, replace = TRUE),
enrollment_date = sample(seq(as.Date("2023-01-01"),
as.Date("2024-01-01"), by = "day"),
n_patients, replace = TRUE),
baseline_score = round(rnorm(n_patients, 50, 15)),
week_12_score = round(rnorm(n_patients, 45, 18)),
week_24_score = round(rnorm(n_patients, 40, 20)),
adverse_events = sample(0:3, n_patients, replace = TRUE, prob = c(0.6, 0.25, 0.1, 0.05)),
dropout = sample(c(TRUE, FALSE), n_patients, replace = TRUE, prob = c(0.15, 0.85)),
dropout_week = ifelse(runif(n_patients) < 0.15,
sample(1:24, n_patients, replace = TRUE), NA)
)
# Add treatment effect
clinical_data$week_12_score[clinical_data$treatment_arm == "Treatment A"] <-
clinical_data$week_12_score[clinical_data$treatment_arm == "Treatment A"] - 5
clinical_data$week_24_score[clinical_data$treatment_arm == "Treatment A"] <-
clinical_data$week_24_score[clinical_data$treatment_arm == "Treatment A"] - 8
# Save the data
write.csv(clinical_data, "data/sample_data.csv", row.names = FALSE)
print("Data created successfully!")
runApp('ClinicalTrialDashboard')
runApp('ClinicalTrialDashboard')
shiny::runApp('ClinicalTrialDashboard')
